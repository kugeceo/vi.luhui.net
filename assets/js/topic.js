const glossary = [
      {
    term: "Midjourney 知识库",
    definition:
      "这里是一个设计团体发起的， AI 绘画爱好者社群，当然只是始于 AI绘画。 它慢慢的改变了 UI、 UX 设计的工作，从各个方面，各个维度",
    link: "http://tob-design.yuque.com/kxcufk/mj/",
    image: "assets/images/topic/topic2.jpg",
    tags: ["作者：AICC-Midjourney团队"]
  },
  
  {
    term: "AIGC 知识库",
    definition:
      "我们提供全面实用的AI行业动态、实用工具分享、研报阅读以及教程和技巧分享，同时还分享了许多有助于AI变现的思路案例。",
    link: "http://www.yuque.com/gptcn/gpt",
    image: "assets/images/topic/topic3.jpg",
    tags: ["作者：yyy"]
  },
  
  {
    term: "AIGC工具整理",
    definition:
      "AI工具导航、Midjourney风格测试、作品，Twitter AI圈账号、AI仪表盘",
    link: "http://bytedance.feishu.cn/base/AIMAbnJxQaNgSGsBAtwcdAkLnvf?table=blkdmU2pOMuYaMoF",
    image: "assets/images/topic/topic13.jpg",
    tags: ["作者：向阳"]
  },
  
  {
    term: "AIGC 周刊",
    definition:
      "每周一更新，主要介绍上周AIGC领域发布的一些产品以及值得关注的研究成果",
    link: "http://op7418.zhubai.love/",
    image: "assets/images/topic/topic4.jpg",
    tags: ["作者：歸藏"]
  },
  
  {
    term: "边缘网络",
    definition:
      "AI日报、我的AI尝试、AI相关教程",
    link: "http://gorden-sun.notion.site/9d54091dc9e04d71ac4e9c217299dcd2?pvs=4",
    image: "assets/images/topic/topic38.jpg",
    tags: ["作者：Gorden Sun"]
  },
    
  {
    term: "AIGC介绍与目录",
    definition:
      "记录AIGC领域的相关知识，方向有Al绘画，对话，AIGC行业报告与文档，学习音视频。开设了AI对话,Midjourney，Stable Diffusion的从注册入门到进阶生产力探索与实施的知识版块。",
    link: "http://id8ex69uxy.feishu.cn/wiki/wikcniXUzbbkVvBq76Ahz56blag",
    image: "assets/images/topic/topic26.jpg",
    tags: ["作者：Kim"]
  },
  
  {
    term: "70款ChatGPT插件评测",
    definition:
      "区别于Chrome，AppStore等平台的代码开发范式，开发者仅使用自然语言就可以开发ChatGPT插件，并由GPT模型自行决定在使用过程中是否调用插件。",
    link: "http://zhuanlan.zhihu.com/p/629337429",
    image: "assets/images/topic/topic25.jpg",
    tags: ["作者：捡到一束光"]
  },
  
  {
    term: "ChatGPT实用指南(精编版) ",
    definition:
      "本文档旨在向你展示ChatGPT常用方法，帮助你快速掌握ChatGPT这个人工智能产品",
    link: "http://uwit8l00ti5.feishu.cn/docx/Yz3UdceHpoY6GbxfbTjcKXcHnhd",
    image: "assets/images/topic/topic31.jpg",
    tags: ["作者：高扬、王不留"]
  },
  
  {
    term: "哈霖的AIGC Wiki",
    definition:
      "让大家懂得可以调用哪些科技能力，现在我们不再局限于页面交互，我们拥有了AI生成式语言交互。",
    link: "http://xuelin.notion.site/xuelin/996583d7f0f34d57a1d5a3046c73b181?v=5a23250681a7472dbda403aadd1a459f",
    image: "assets/images/topic/topic32.jpg",
    tags: ["作者：哈霖"]
  },
  
  {
    term: "AI 智库",
    definition:
      "一个专注于AI实践分享的知识库。提供全面实用的AI行业动态、实用工具分享、研报阅读以及教程和技巧分享，同时还分享了许多有助于AI变现的思路案例",
    link: "http://ki6j1b0d92h.feishu.cn/wiki/wikcnAFcEccJ5iXiU8MRntc2Vyb",
    image: "assets/images/topic/topic14.jpg",
    tags: ["作者：vigor"]
  },
  
  {
    term: "Learn Prompt",
    definition:
      "支持ChatGPT，Midjourney，Runway，Stable Diffusion四大热门项目，同时我们的网站中会不定时更新更多实用的使用技巧",
    link: "http://www.learnprompt.pro/",
    image: "assets/images/topic/topic30.jpg",
    tags: ["作者：卡尔的AI沃茨"]
  },
  
  {
    term: "ChatGPT知识库",
    definition:
      "我们的目标是打造一站式ChatGPT知识库，我们相信社会的进步离不开各种形式的交流，一个知识库不仅仅是解答各种问题的工具，更是协同合作、共同进步的平台。",
    link: "http://www.yuque.com/echosys/chatgpt",
    image: "assets/images/topic/topic35.jpg",
    tags: ["作者：Echo"]
  },
  
  {
    term: "AIGC知识库",
    definition:
      "分享ChatGPT技术应用教程和变现思路，也将长期分享各类AI的使用技巧，研究报告，资源合集。",
    link: "http://hf0y97ff1r.feishu.cn/wiki/wikcnOws4qTU1Be2FOxQlsXduRh?table=tblpOYywQvegTTcu&view=vewWuvusHJ",
    image: "assets/images/topic/topic36.jpg",
    tags: ["作者：蚂蚁"]
  },
  
  {
    term: "AIGC学习手册",
    definition:
      "适用人群: 互联网关注 AIGC 发展人群，持续更新 AIGC 的相关资讯动态，研究报告，赚钱案例，实用场景等 10 个板块内容",
    link: "http://nujuo8y1qx.feishu.cn/docx/RleadAwrAo4O1FxhuoGcDV86nBe",
    image: "assets/images/topic/topic29.jpg",
    tags: ["作者：大国"]
  },
  
  {
    term: "AIGC聚集地",
    definition:
      "「AIGC聚集地」是专注于 AIGC 领域地垂直知识库，将持续更新 AIGC 的相关资讯动态、应用工具、使用教程、变现案例",
    link: "http://www.yuque.com/popponyj/aigc",
    image: "assets/images/topic/topic4.jpg",
    tags: ["作者：popponyj"]
  },
  
  {
    term: "通往AGI之路",
    definition:
      "旨在提供一个全面系统、易于理解的AI学习路径，帮助您了解AI的从概念到应用等各方面知识，更重要的是希望引发您思考: 我可以用AI做什么，帮助自己更强大",
    link: "http://ywh1bkansf.feishu.cn/wiki/QPe5w5g7UisbEkkow8XcDmOpn8e",
    image: "assets/images/topic/topic37.jpg",
    tags: ["作者：AGI指南"]
  },
  
  {
    term: "紧跟AIGC风向知识库",
    definition:
      "持续关注AIGC相关动态、研究报告、相关资料、商业落地等，包括但不限于ChatGPT相关问题、AI绘画相关落地、国内大模型研究进展、开源模型进展、资料汇总等",
    link: "http://szqxz4m7fs.feishu.cn/wiki/wikcnMJ5qdVdOJ03XsBZFuXIRkf",
    image: "assets/images/topic/topic34.jpg",
    tags: ["作者：大林"]
  },
  
  {
    term: "ChatGPT学习手册",
    definition:
      "适用人群: 互联网关注 ChatGPT 发展人群，持续更新ChatGPT的相关资讯动态，研究报告，赚钱案例，实用场景等 12 个板块内容",
    link: "http://nujuo8y1qx.feishu.cn/docx/AdqEdlT52oBiawx6Vv2cc89DnLb",
    image: "assets/images/topic/topic27.jpg",
    tags: ["作者：大国"]
  },
  
  {
    term: "Learning Prompt",
    definition:
      "如果你不知道如何使用 ChatGPT 或者 Midjourney。那本教程应该能帮到你。这是一份教你如何更好地使用 ChatGPT 和 Midjourney 的免费教程",
    link: "http://learningprompt.wiki/",
    image: "assets/images/topic/topic5.jpg",
    tags: ["作者：Jimmy Wang"]
  },
  
  {
    term: "泛函同学的一切|All in AIGC",
    definition:
      "AIGC 工作&企业应用场景研究报告、泛函的 AI绘画作品集&关键词指南",
    link: "http://to7e2gkmim.feishu.cn/wiki/wikcnl2UCXsXjLBgGBnt3GDCI7g",
    image: "assets/images/topic/topic33.jpg",
    tags: ["作者：泛函"]
  },
  
    {
    term: "极客时间 AIGC 知识库·学习指南",
    definition:
      "AIGC 及 ChatGPT 相关 市场格局趋势、热点快讯、深度报道、赚钱案例、工作/生活/学习提效案例、最新工具、大厂落地及融资动态",
    link: "http://longalong.feishu.cn/wiki/wikcngNXeTD1ZnOly0X19lPLfoh?table=tbliDw3FNlw9WZ4j&view=vew7lzT38B",
    image: "assets/images/topic/topic28.jpg",
    tags: ["作者：吴珊"]
  },
  
  {
    term: "AIGC工具使用体验分享和推荐",
    definition:
      "AIGC（AI Generated Content）是指使用人工智能技术生成的内容。它可以用于生成文本、图像、视频等内容。与其他内容生成技术（如PGC和UGC）相比，AIGC可以更快、更准确地生成内容",
    link: "http://bytedance.feishu.cn/docx/D9Wvd6nABo1LYqxPsuwcQRponfb",
    image: "assets/images/topic/topic23.jpg",
    tags: ["作者：乔向阳"]
  },
  
  {
    term: "OpenAI&吴恩达老师prompt工程课笔记分享",
    definition:
      "课程介绍了语言模型的工作原理，提供了最佳的提示工程实践，并展示了如何将语言模型 API 应用于各种任务的应用程序中",
    link: "http://islinxu.github.io/prompt-engineering-note/Introduction/index.html",
    image: "assets/images/topic/topic11.jpg",
    tags: ["作者：isLinXu"]
  },
  
  {
    term: "大语言模型的中文综述（学术向）",
    definition:
      "从技术上讲，语言建模是提高机器语言智能的主要方法之一。一般来说，语言建模旨在对词序列的生成概率进行建模，以预测未来(或缺失) 单词的概率",
    link: "http://github.com/RUCAIBox/LLMSurvey/blob/main/assets/LLM_Survey_Chinese_0418.pdf",
    image: "assets/images/topic/topic12.jpg",
    tags: ["作者：赵鑫"]
  },
  
  {
    term: "音乐风格关键词和介绍",
    definition:
      "文本->音乐，GPT4整理的 138 种音乐风格关键词",
    link: "http://bytedance.feishu.cn/sheets/E3xtspxvYhSDOCtQJeocmJeNnHf?sheet=bcBUIN",
    image: "assets/images/topic/topic22.jpg",
    tags: ["作者：向阳"]
  },
    
  {
    term: "AI / ML / LLM 模型时间线和列表",
    definition:
      "汇总了（AI、ML、LLM、Transformer）语言模型相关的最重要论文，同时把各个论文的发布时间和相互的引用关系变成了可视化图",
    link: "http://ai.v-gar.de/ml/transformer/timeline/index.html",
    image: "assets/images/topic/topic8.jpg",
    tags: ["作者：Viktor Garske"]
  },
  
  {
    term: "AI 研习社",
    definition:
      "AI研习社是一个社区自治型AI研究知识小组，包含: AI工具使用、AI新闻、A商业模式研究、AI大厂动态、AI研究报告、AI经验分享等专题内容",
    link: "http://zl49so8lbq.feishu.cn/wiki/wikcnu3kSXr75E50w8PFefhJMYf",
    image: "assets/images/topic/topic10.jpg",
    tags: ["作者：Crypto@孙先生"]
  },
  
  
  {
    term: "YICHA设计周刊",
    definition:
      "互联网设计师的精读文章和设计资源",
    link: "http://yicha.zhubai.love/?utm_source=wechat_session",
    image: "assets/images/topic/topic24.jpg",
    tags: ["作者：YICHA"]
  },
  
  {
    term: "AI创业知识库",
    definition:
      "持续关注AI相关动态、使用方式、相关资料、商业落地等信息，并整理成适合小白用户阅读和理解的语言方式+实操进解",
    link: "http://openviewtech.feishu.cn/wiki/wikcnw7V554RwcZU4BgDO4rColg",
    image: "assets/images/topic/topic39.jpg",
    tags: ["作者：蔡奕阳"]
  },
    
  {
    term: "用AI工作学习创作",
    definition:
      "我们希望通过这门专栏，涵盖这些知识，帮助你建立基本的能力圈，在AIGC或者自媒体创作上取得「令人尊敬」的结果",
    link: "http://nhrvt0kw31.feishu.cn/wiki/TjZuwJtnfisaqwkRtI4cDQyVngb",
    image: "assets/images/topic/topic16.jpg",
    tags: ["作者：阿杰"]
  },
  
  {
    term: "AIx4U",
    definition:
      "我们专注于分享最新的 AI 技术、新闻、趋势和研究成果。让我们一起探索人工智能的奇妙世界，揭示 AI 对未来的影响。",
    link: "http://bento.me/aix4u",
    image: "assets/images/topic/topic18.jpg",
    tags: ["作者：@aix4u.com"]
  },
    
  {
    term: "陆奇博士分享",
    definition:
      "根据陆奇博士在分享中的视频/音频整理",
    link: "http://miracleplus.feishu.cn/wiki/wikcnFfZ8Zdn4EkhlDPBkSrubmd",
    image: "assets/images/topic/topic19.jpg",
    tags: ["作者：奇绩创坛"]
  },
  
  {
    term: "OpenAI官方《提示词工程课》中文笔记",
    definition:
      "学习如何使用大型语言模型 (LLM) 快速构建新的强大应用程序。使用OpenAI API，您将能够快速构建学习创新和创造价值的能力",
    link: "http://ec26ubh65w.feishu.cn/docx/PuULdQP3wojyZYxn157cnsDXnqe",
    image: "assets/images/topic/topic17.jpg",
    tags: ["作者：龚俊民"]
  },
  
  {
    term: "AIGC-电商生产力解决方案",
    definition:
      "电商卖家的AI提效路径、针对中小卖家的AI快捷体验方案",
    link: "http://futureforce.feishu.cn/docx/Om9cdFboMo3mhlxbA3xcMsjmnQc",
    image: "assets/images/topic/topic40.jpg",
    tags: ["作者：未来力场"]
  },
  
  {
    term: "把握AI浪潮",
    definition:
      "本文档基于各个星球、知乎、公众号、B站以及文档收集汇总而成，关联了七十余份在线文档以及上百份资料； 适用人群: 互联网关注chatopt发展人群",
    link: "http://kasenyan.feishu.cn/docx/WJYtdelcBo3MApxxFF4cow6enuh",
    image: "assets/images/topic/topic20.jpg",
    tags: ["作者：卡森粒"]
  }
 
];

const content = document.getElementById("content");
const searchForm = document.getElementById("search-form");

function renderGlossary(glossary) {
  content.innerHTML = "";
  glossary.forEach(item => {
    const div = document.createElement("div");
    div.className = "term";

    // 创建一个外部链接包裹整个 div 内容
    const outerLink = document.createElement("a");
    outerLink.href = item.link;
    outerLink.target = "_blank";

    const h3 = document.createElement("h3");
    h3.innerText = item.term;
    const p = document.createElement("p");
    p.innerText = item.definition;

    if (item.image) {
      const img = document.createElement("img");
      img.src = item.image;
      img.alt = item.term; // 添加 alt 属性
      outerLink.appendChild(img);
    }

    outerLink.appendChild(h3);
    outerLink.appendChild(p);
    div.appendChild(outerLink);

    // 将 tagDiv 添加到 div 中，而不是 outerLink 中
    if (item.tags) {
      const tagDiv = document.createElement("div");
      tagDiv.className = "tags";
      item.tags.forEach(tag => {
        const span = document.createElement("span");
        span.innerText = tag;
        tagDiv.appendChild(span);
      });
      div.appendChild(tagDiv);
    }

    content.appendChild(div);
  });
}




function filterGlossary(query) {
  return glossary.filter(item => {
    const containsTerm = item.term.toLowerCase().includes(query.toLowerCase());
    const containsTag = item.tags.some(tag => tag.toLowerCase().includes(query.toLowerCase()));
    const containsDefinition = item.definition.toLowerCase().includes(query.toLowerCase()); // 检查定义部分是否包含搜索词
    return containsTerm || containsTag || containsDefinition;
  });
}


const searchInput = document.getElementById('search-input');
searchInput.addEventListener('input', updateGlossary);

function updateGlossary() {
	const query = searchInput.value;

	const filteredGlossary = filterGlossary(query);
	renderGlossary(filteredGlossary);
}

renderGlossary(glossary);













$(document).ready(function () {
	//img lazy loaded
	const observer = lozad();
	observer.observe();

	$(document).on('click', '.has-sub', function () {
		var _this = $(this)
		if (!$(this).hasClass('expanded')) {
			setTimeout(function () {
				_this.find('ul').attr("style", "")
			}, 300);

		} else {
			$('.has-sub ul').each(function (id, ele) {
				var _that = $(this)
				if (_this.find('ul')[0] != ele) {
					setTimeout(function () {
						_that.attr("style", "")
					}, 300);
				}
			})
		}
	})
	$('.user-info-menu .hidden-sm').click(function () {
		if ($('.sidebar-menu').hasClass('collapsed')) {
			$('.has-sub.expanded > ul').attr("style", "")
		} else {
			$('.has-sub.expanded > ul').show()
		}
	})
	$("#main-menu li ul li").click(function () {
		$(this).siblings('li').removeClass('active'); // 删除其他兄弟元素的样式
		$(this).addClass('active'); // 添加当前元素的样式
	});
	$("a.smooth").click(function (ev) {
		ev.preventDefault();

		public_vars.$mainMenu.add(public_vars.$sidebarProfile).toggleClass('mobile-is-visible');
		ps_destroy();

		var scrollTop = $($(this).attr("href")).offset().top;
		if (isMobile()) {
			scrollTop -= 80;
		} else {
			scrollTop -= 28;
		}

		$("html, body").animate({
			scrollTop: scrollTop
		}, {
			duration: 500,
			easing: "swing"
		});
	});

	function isMobile() {
		return $(window).width() < 768;
	}

	return false;
});

var href = "";
var pos = 0;
$("a.smooth").click(function (e) {
	$("#main-menu li").each(function () {
		$(this).removeClass("active");
	});
	$(this).parent("li").addClass("active");
	e.preventDefault();
	href = $(this).attr("href");
	pos = $(href).position().top - 30;
});



		// 复制按钮点击事件
		const shareSwitcherBtn = document.getElementById('share-switcher-btn');
		const sharePopup = document.getElementById('share-popup');
		const copyBtn = document.getElementById('copy-btn');
		
		// 显示/隐藏分享弹窗
		shareSwitcherBtn.addEventListener('click', function () {
		    // 获取按钮的位置
		    const rect = shareSwitcherBtn.getBoundingClientRect();
		    // 计算弹出窗口的位置
		    const popupLeft = rect.left - sharePopup.offsetWidth - 130; // 10px间隔
		    const popupTop = rect.top - 60; // 10px间隔;
		
		    // 设置弹出窗口的位置
		    sharePopup.style.left = `${popupLeft}px`;
		    sharePopup.style.top = `${popupTop}px`;
		
		    sharePopup.classList.toggle('show');
		});

		
		// 复制链接
		copyBtn.addEventListener('click', function () {
			const link = document.createElement('input');
			link.setAttribute('value', 'kugeceo');
			document.body.appendChild(link);
			link.select();
			document.execCommand('copy');
			document.body.removeChild(link);
			copyBtn.textContent = '复制成功';
			copyBtn.classList.add('success');
			setTimeout(function () {
				sharePopup.classList.remove('show');
				copyBtn.textContent = '扫码入群';
				copyBtn.classList.remove('success');
			}, 1000);
		});

// 3秒钟无操作后隐藏分享弹窗
let timeout;
document.addEventListener('click', function () {
	clearTimeout(timeout);
	timeout = setTimeout(function () {
		sharePopup.classList.remove('show');
		copyBtn.textContent = '扫码入群';
		copyBtn.classList.remove('success');
	}, 3000);
});



const backToTopBtn = document.querySelector('#back-to-top-btn');

window.addEventListener('scroll', () => {
	if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
		backToTopBtn.style.display = 'block';
	} else {
		backToTopBtn.style.display = 'none';
	}
});

backToTopBtn.addEventListener('click', () => {
	window.scrollTo({ top: 0, behavior: 'smooth' });
});


const languageSwitcherBtn = document.getElementById('language-switcher-btn');
		const currentPath = window.location.pathname;
		
		languageSwitcherBtn.addEventListener('click', () => {
		    if (currentPath.includes('/en/')) {
		        window.location.href = '../index.html';
		    } else {
		        window.location.href = 'en/index.html';
		    }
		});
		

function plusSlides(n) {
	clearTimeout(slideTimer);
	slideIndex += n;
	if (slideIndex > slides.length) {
		slideIndex = 1;
	} else if (slideIndex < 1) {
		slideIndex = slides.length;
	}
	for (var i = 0; i < slides.length; i++) {
		slides[i].classList.remove("active");
	}
	slides[slideIndex - 1].classList.add("active");
	slideTimer = setTimeout(showSlides, 10000);
}



// 控制侧边栏显示/隐藏的按钮
const menuToggle = document.querySelector('.menu-toggle');
const sidebarWrapper = document.querySelector('.sidebar-wrapper');
const mainContents = document.querySelector('#main-contents');
const smoothLinks = document.querySelectorAll('.smooth');

menuToggle.addEventListener('click', () => {
	sidebarWrapper.classList.toggle('active');
	mainContents.classList.toggle('overlay');
});

// 关闭侧边栏的按钮
const closeBtn = document.querySelector('#sidebar .sidebar-header button.close');

closeBtn.addEventListener('click', () => {
	sidebarWrapper.classList.remove('active');
	mainContents.classList.remove('overlay');
});

// 点击遮罩层时关闭侧边栏的按钮
mainContents.addEventListener('click', function () {
	if (mainContents.classList.contains('overlay')) {
		sidebarWrapper.classList.remove('active');
		mainContents.classList.remove('overlay');
	}
});

smoothLinks.forEach(link => {
	link.addEventListener('click', function (e) {
		e.preventDefault(); // 阻止默认跳转行为
		const href = this.getAttribute('href');
		const target = document.querySelector(href);

		// 先关闭侧边栏
		sidebarWrapper.classList.remove('active');
		mainContents.classList.remove('overlay');

		// 然后执行Smooth Scroll的跳转
		target.scrollIntoView({
			behavior: 'smooth'
		});
	});
});



if (window.innerWidth <= 768 && window.innerHeight <= 1024) {
	var elements = document.querySelectorAll('[data-original-title]');

	for (var i = 0; i < elements.length; i++) {
		elements[i].removeAttribute('data-original-title');
	}
}


$(".main-menus").click(function (e) {
	e.preventDefault();
	$(this).parent().toggleClass("open").siblings().removeClass("open");
});



const buttons = document.querySelectorAll('.category-button');

buttons.forEach(button => {
	button.addEventListener('click', () => {
		buttons.forEach(b => b.classList.remove('active'));
		button.classList.add('active');
		generatePagination();
	});
});